<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Welcome | Your Site</title>
    <meta name="description" content="A clean, modern opening page." >
    <link rel="stylesheet" href="styles.css">
  </head>
  <body class="main-page">
    <header class="site-header">
      <div class="container header-content">
        <div class="brand">
          <div class="logo" aria-hidden="true"></div>
          <span class="brand-name">MCCSITE</span>
        </div>
        <nav class="nav">
          <a href="index.html">Home</a>
          <a href="about.html">About</a>
          <a class="btn-pixel" href="game.html">Games</a>
          <a href="ai-chat.html" class="ai-nav-link">🤖 AI Assistant</a>
          <a href="contact.html">Contact</a>
          <a class="btn btn-outline" href="get-started.html" id="signin-btn" style="display: none;">Sign In</a>
          <div class="profile-container" id="profile-container" style="display: none;">
            <button class="profile-btn" id="profile-btn">
              <div class="profile-avatar" id="profile-avatar"></div>
              <span class="profile-name" id="profile-name"></span>
            </button>
            <div class="profile-dropdown" id="profile-dropdown">
              <a href="dashboard.html" class="profile-dropdown-item">Stats</a>
              <a href="game.html" class="profile-dropdown-item">Play Games</a>
              <button class="profile-dropdown-item" id="profile-settings-btn">Profile Settings</button>
              <div class="profile-dropdown-divider"></div>
              <button class="profile-dropdown-item" id="logout-btn">Sign Out</button>
            </div>
          </div>
          <a href="dashboard.html" class="stats-toggle" aria-label="Stats">📊</a>
          <button class="settings-btn" id="settings-btn" aria-label="Settings">⚙️</button>
          <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
            <span class="theme-icon">🌙</span>
          </button>
        </nav>
      </div>
    </header>
    <!-- Floating background elements -->
    <div class="floating-element floating-1">✨</div>
    <div class="floating-element floating-2">💫</div>
    <div class="floating-element floating-3">⭐</div>
    <div class="floating-element floating-4">🌟</div>
    <div class="floating-element floating-5">✨</div>
    <div class="floating-element floating-6">🎮</div>
    <div class="floating-element floating-7">🤖</div>
    <div class="floating-element floating-8">⚡</div>
    <div class="floating-element floating-9">🎯</div>
    <div class="floating-element floating-10">🚀</div>
    <div class="floating-element floating-11">💎</div>
    <div class="floating-element floating-12">🔥</div>
    
    <main>
      <!-- Hero Section -->
      <section class="hero" id="get-started">
        <div class="container hero-content">
          <div class="hero-text">
            <h1 class="hero-title">
              <span class="title-line">Welcome to the</span>
              <span class="title-line highlight">Future of Gaming</span>
              <span class="title-line">Experience</span>
            </h1>
            <p class="hero-description">
              Immerse yourself in cutting-edge games, chat with our advanced AI assistant, 
              and unlock exclusive features. This isn't just a website—it's your gateway to 
              the next generation of digital entertainment.
            </p>
            <div class="cta-group">
              <a class="btn btn-primary btn-glow" href="game.html">
                <span class="btn-icon">🎮</span>
                Start Playing
                <span class="btn-arrow">→</span>
              </a>
              <a class="btn btn-outline btn-outline-glow" href="ai-chat.html">
                <span class="btn-icon">🤖</span>
                Chat with AI
              </a>
            </div>
            <div class="hero-stats">
              <div class="stat-item">
                <span class="stat-number" id="total-games">4</span>
                <span class="stat-label">Games Available</span>
              </div>
              <div class="stat-item">
                <span class="stat-number" id="ai-powered">100%</span>
                <span class="stat-label">AI Powered</span>
              </div>
              <div class="stat-item">
                <span class="stat-number" id="user-count">∞</span>
                <span class="stat-label">Possibilities</span>
              </div>
            </div>
          </div>
          <div class="hero-visual">
            <div class="floating-cards">
              <div class="floating-card game-card">
                <div class="card-icon">🎯</div>
                <div class="card-title">Tic Tac Toe</div>
                <div class="card-subtitle">Strategy</div>
              </div>
              <div class="floating-card game-card">
                <div class="card-icon">🔴</div>
                <div class="card-title">Connect 4</div>
                <div class="card-subtitle">Thinking</div>
              </div>
              <div class="floating-card game-card">
                <div class="card-icon">🐍</div>
                <div class="card-title">Snake</div>
                <div class="card-subtitle">Retro</div>
              </div>
              <div class="floating-card game-card">
                <div class="card-icon">♔</div>
                <div class="card-title">Chess</div>
                <div class="card-subtitle">Master</div>
              </div>
              <div class="floating-card ai-card">
                <div class="card-icon">🤖</div>
                <div class="card-title">AI Chat</div>
                <div class="card-subtitle">Smart</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Features Section -->
      <section class="features" id="features">
        <div class="container">
          <div class="section-header">
            <h2 class="section-title">Why Choose Our Platform?</h2>
            <p class="section-subtitle">Experience the perfect blend of technology and entertainment</p>
          </div>
          <div class="features-grid">
            <article class="feature-card">
              <div class="feature-icon">🎮</div>
              <h3>Premium Games</h3>
              <p>Play classic and modern games with stunning visuals and smooth gameplay. From strategy to action, we have it all.</p>
              <div class="feature-highlight">4 Games Available</div>
            </article>
            <article class="feature-card">
              <div class="feature-icon">🤖</div>
              <h3>AI Assistant</h3>
              <p>Chat with our advanced AI that understands context, remembers conversations, and provides intelligent responses.</p>
              <div class="feature-highlight">Always Learning</div>
            </article>
            <article class="feature-card">
              <div class="feature-icon">📊</div>
              <h3>Track Progress</h3>
              <p>Monitor your gaming stats, achievements, and progress with our comprehensive analytics dashboard.</p>
              <div class="feature-highlight">Real-time Stats</div>
            </article>
            <article class="feature-card">
              <div class="feature-icon">🎨</div>
              <h3>Customization</h3>
              <p>Personalize your experience with themes, avatars, and settings that match your style and preferences.</p>
              <div class="feature-highlight">Fully Customizable</div>
            </article>
            <article class="feature-card">
              <div class="feature-icon">💰</div>
              <h3>Earn Rewards</h3>
              <p>Play games and chat with AI to earn coins, unlock achievements, and access exclusive content.</p>
              <div class="feature-highlight">Reward System</div>
            </article>
            <article class="feature-card">
              <div class="feature-icon">⚡</div>
              <h3>Lightning Fast</h3>
              <p>Optimized for speed and performance. Enjoy seamless gameplay and instant AI responses without any lag.</p>
              <div class="feature-highlight">Zero Latency</div>
            </article>
          </div>
        </div>
      </section>

      <!-- About Section -->
      <section class="about" id="about">
        <div class="container">
          <div class="about-content">
            <div class="about-text">
              <h2>Built with Passion & Innovation</h2>
              <p class="about-description">
                This platform represents the perfect fusion of traditional gaming and cutting-edge AI technology. 
                Created by Mccauley, it showcases the incredible potential of artificial intelligence in creating 
                engaging, interactive experiences that adapt and evolve with every user interaction.
              </p>
              <div class="about-features">
                <div class="about-feature">
                  <span class="feature-check">✓</span>
                  <span>AI-Powered Conversations</span>
                </div>
                <div class="about-feature">
                  <span class="feature-check">✓</span>
                  <span>Real-time Game Analytics</span>
                </div>
                <div class="about-feature">
                  <span class="feature-check">✓</span>
                  <span>Responsive Design</span>
                </div>
                <div class="about-feature">
                  <span class="feature-check">✓</span>
                  <span>Cross-Platform Compatibility</span>
                </div>
              </div>
              <div class="about-cta">
                <a class="btn btn-primary" href="about.html">Learn More About Us</a>
                <a class="btn btn-outline" href="contact.html">Get in Touch</a>
              </div>
            </div>
            <div class="about-visual">
              <div class="tech-stack">
                <div class="tech-item">
                  <div class="tech-icon">⚡</div>
                  <div class="tech-name">Performance</div>
                </div>
                <div class="tech-item">
                  <div class="tech-icon">🔒</div>
                  <div class="tech-name">Security</div>
                </div>
                <div class="tech-item">
                  <div class="tech-icon">🎨</div>
                  <div class="tech-name">Design</div>
                </div>
                <div class="tech-item">
                  <div class="tech-icon">🚀</div>
                  <div class="tech-name">Innovation</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- CTA Section -->
      <section class="cta-section">
        <div class="container">
          <div class="cta-content">
            <h2>Ready to Experience the Future?</h2>
            <p>Join thousands of users who are already enjoying our platform. Start your journey today!</p>
            <div class="cta-buttons">
              <a class="btn btn-primary btn-large" href="game.html">
                <span class="btn-icon">🎮</span>
                Start Playing Now
              </a>
              <a class="btn btn-outline btn-large" href="get-started.html">
                <span class="btn-icon">👤</span>
                Create Account
              </a>
            </div>
          </div>
        </div>
      </section>
    </main>
    
    <!-- Settings Modal -->
    <div class="settings-modal" id="settings-modal">
      <div class="settings-content">
        <div class="settings-header">
          <h2 class="settings-title">Settings</h2>
          <button class="settings-close" id="settings-close">&times;</button>
        </div>
        
        <div class="settings-group">
          <label class="settings-label">Appearance</label>
          <div class="settings-option">
            <span>Dark Mode</span>
            <div class="settings-toggle" id="dark-mode-toggle"></div>
          </div>
        </div>
        
        <div class="settings-group">
          <label class="settings-label">Game Settings</label>
          <div class="settings-option">
            <span>Sound Effects</span>
            <div class="settings-toggle active" id="sound-toggle"></div>
          </div>
          <div class="settings-option">
            <span>Animations</span>
            <div class="settings-toggle active" id="animations-toggle"></div>
          </div>
        </div>
        
        <div class="settings-group">
          <label class="settings-label">Accessibility</label>
          <div class="settings-option">
            <span>High Contrast</span>
            <div class="settings-toggle" id="contrast-toggle"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Profile Settings Modal -->
    <div class="profile-modal" id="profile-modal">
      <div class="profile-modal-content">
        <div class="profile-modal-header">
          <h2 class="profile-modal-title">Profile Settings</h2>
          <button class="profile-modal-close" id="profile-modal-close">&times;</button>
        </div>
        
        <!-- Avatar Selection -->
        <div class="avatar-section">
          <h3>Choose Avatar</h3>
          <div class="current-avatar">
            <div class="current-avatar-preview" id="current-avatar-preview">A</div>
            <div>
              <p style="margin: 0; font-weight: 600; color: var(--text);">Current Avatar</p>
              <p style="margin: 4px 0 0; color: var(--muted); font-size: 14px;">Click an option below to change</p>
            </div>
          </div>
          <div class="avatar-options" id="avatar-options">
            <!-- Avatar options will be generated by JavaScript -->
          </div>
        </div>

        <!-- Username Editor -->
        <div class="username-section">
          <h3>Username</h3>
          <div class="username-editor">
            <input type="text" class="username-input" id="username-input" placeholder="Enter username" maxlength="20">
            <button class="username-save" id="username-save">Save</button>
          </div>
        </div>

        <!-- Profile Actions -->
        <div class="profile-actions">
          <button class="profile-cancel" id="profile-cancel">Cancel</button>
          <button class="profile-save" id="profile-save">Save Changes</button>
        </div>
      </div>
    </div>

    
    <footer class="site-footer">
      <div class="container footer-content">
        <small> <span id="year"></span> MCCSITE. All rights reserved.</small>
        <a href="#top" class="back-to-top" aria-label="Back to top"></a>
      </div>
    </footer>
    
    <!-- EmailJS CDN -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    
    <script>
      document.getElementById('year').textContent = new Date().getFullYear();
      
      // Dark mode toggle functionality
      const themeToggle = document.getElementById('theme-toggle');
      const themeIcon = themeToggle.querySelector('.theme-icon');
      
      // Check for saved theme preference or default to dark mode
      const currentTheme = localStorage.getItem('theme') || 'dark';
      document.documentElement.setAttribute('data-theme', currentTheme);
      updateThemeIcon(currentTheme);
      
      themeToggle.addEventListener('click', () => {
        const currentTheme = document.documentElement.getAttribute('data-theme');
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
        
        document.documentElement.setAttribute('data-theme', newTheme);
        localStorage.setItem('theme', newTheme);
        updateThemeIcon(newTheme);
      });
      
      function updateThemeIcon(theme) {
        themeIcon.textContent = theme === 'dark' ? '☀️' : '🌙';
      }
      
      // Settings functionality
      const settingsBtn = document.getElementById('settings-btn');
      const settingsModal = document.getElementById('settings-modal');
      const settingsClose = document.getElementById('settings-close');
      const darkModeToggle = document.getElementById('dark-mode-toggle');
      const soundToggle = document.getElementById('sound-toggle');
      const animationsToggle = document.getElementById('animations-toggle');
      const contrastToggle = document.getElementById('contrast-toggle');
      
      // Load saved settings
      function loadSettings() {
        const settings = JSON.parse(localStorage.getItem('settings') || '{}');
        
        // Dark mode toggle
        const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
        darkModeToggle.classList.toggle('active', isDark);
        
        // Sound toggle
        soundToggle.classList.toggle('active', settings.sound !== false);
        
        // Animations toggle
        animationsToggle.classList.toggle('active', settings.animations !== false);
        
        // Contrast toggle
        contrastToggle.classList.toggle('active', settings.contrast === true);
        if (settings.contrast) {
          document.body.classList.add('high-contrast');
        }
      }
      
      // Save settings
      function saveSettings() {
        const settings = {
          sound: soundToggle.classList.contains('active'),
          animations: animationsToggle.classList.contains('active'),
          contrast: contrastToggle.classList.contains('active')
        };
        localStorage.setItem('settings', JSON.stringify(settings));
      }
      
      // Toggle functions
      function toggleSetting(toggle, callback) {
        toggle.addEventListener('click', () => {
          toggle.classList.toggle('active');
          callback();
          saveSettings();
        });
      }
      
      // Settings toggles
      toggleSetting(darkModeToggle, () => {
        const isDark = darkModeToggle.classList.contains('active');
        document.documentElement.setAttribute('data-theme', isDark ? 'dark' : 'light');
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
        updateThemeIcon(isDark ? 'dark' : 'light');
      });
      
      toggleSetting(soundToggle, () => {
        // Sound setting will be used by game page
      });
      
      toggleSetting(animationsToggle, () => {
        // Animation setting will be used by game page
      });
      
      toggleSetting(contrastToggle, () => {
        document.body.classList.toggle('high-contrast', contrastToggle.classList.contains('active'));
      });
      
      // Modal controls
      settingsBtn.addEventListener('click', () => {
        settingsModal.classList.add('open');
      });
      
      settingsClose.addEventListener('click', () => {
        settingsModal.classList.remove('open');
      });
      
      settingsModal.addEventListener('click', (e) => {
        if (e.target === settingsModal) {
          settingsModal.classList.remove('open');
        }
      });
      
      // Load settings on page load
      loadSettings();
      
      // Profile functionality
      const profileContainer = document.getElementById('profile-container');
      const profileBtn = document.getElementById('profile-btn');
      const profileDropdown = document.getElementById('profile-dropdown');
      const profileAvatar = document.getElementById('profile-avatar');
      const profileName = document.getElementById('profile-name');
      const logoutBtn = document.getElementById('logout-btn');
      const profileSettingsBtn = document.getElementById('profile-settings-btn');
      const signinBtn = document.getElementById('signin-btn');
      
      // Profile modal elements
      const profileModal = document.getElementById('profile-modal');
      const profileModalClose = document.getElementById('profile-modal-close');
      const profileCancel = document.getElementById('profile-cancel');
      const profileSave = document.getElementById('profile-save');
      const currentAvatarPreview = document.getElementById('current-avatar-preview');
      const avatarOptions = document.getElementById('avatar-options');
      const usernameInput = document.getElementById('username-input');
      const usernameSave = document.getElementById('username-save');
      
      
      // Avatar options
      const avatarOptionsList = [
        { emoji: '😀', name: 'Happy' },
        { emoji: '😎', name: 'Cool' },
        { emoji: '🤓', name: 'Nerd' },
        { emoji: '😊', name: 'Blush' },
        { emoji: '🥳', name: 'Party' },
        { emoji: '🤖', name: 'Robot' },
        { emoji: '👨', name: 'Man' },
        { emoji: '👩', name: 'Woman' },
        { emoji: '🧑', name: 'Person' },
        { emoji: '👨‍💻', name: 'Developer' },
        { emoji: '👩‍💻', name: 'Developer' },
        { emoji: '🎮', name: 'Gamer' },
        { emoji: '🎨', name: 'Artist' },
        { emoji: '🎵', name: 'Musician' },
        { emoji: '🏃', name: 'Runner' },
        { emoji: '🚀', name: 'Rocket' },
        { emoji: '⭐', name: 'Star' },
        { emoji: '🔥', name: 'Fire' },
        { emoji: '💎', name: 'Diamond' },
        { emoji: '🌟', name: 'Star' },
        { emoji: '🎯', name: 'Target' },
        { emoji: '🎪', name: 'Circus' },
        { emoji: '🎭', name: 'Theater' },
        { emoji: '🎨', name: 'Palette' },
        { emoji: '🎲', name: 'Dice' },
        { emoji: '🎸', name: 'Guitar' },
        { emoji: '🎺', name: 'Trumpet' },
        { emoji: '🎻', name: 'Violin' },
        { emoji: '🎹', name: 'Piano' },
        { emoji: '🎤', name: 'Microphone' }
      ];
      
      let selectedAvatar = null;
      let currentUser = null;
      
      // Initialize EmailJS
      emailjs.init("nPvHGp9gZL2jFhjsR");
      
      // Send welcome email function
      async function sendWelcomeEmail(user) {
        try {
          const templateParams = {
            to_email: user.email,
            to_name: user.displayName || user.name,
            site_name: 'MCCSITE'
          };
          
          const response = await emailjs.send(
            'service_jwb93vv',
            'template_toyg9d9',
            templateParams
          );
          
          if (response.status === 200) {
            console.log('Welcome email sent successfully to:', user.email);
            showNotification('Welcome email sent! Check your inbox.', 'success');
          }
        } catch (error) {
          console.error('Error sending welcome email:', error);
          // Don't show error to user, just log it
        }
      }
      
      // Check if user is logged in
      function checkAuthStatus() {
        currentUser = JSON.parse(localStorage.getItem('currentUser') || 'null');
        if (currentUser) {
          showProfile(currentUser);
        } else {
          hideProfile();
        }
      }
      
      // Show profile in header
      function showProfile(user) {
        profileContainer.style.display = 'flex';
        signinBtn.style.display = 'none';
        profileName.textContent = user.displayName || user.name;
        profileAvatar.textContent = user.avatar || user.name.charAt(0).toUpperCase();
        
        // Stats button is always visible
      }
      
      // Hide profile from header
      function hideProfile() {
        profileContainer.style.display = 'none';
        signinBtn.style.display = 'inline-block';
        
        // Stats button is always visible
      }
      
      // Generate avatar options
      function generateAvatarOptions() {
        avatarOptions.innerHTML = '';
        avatarOptionsList.forEach((avatar, index) => {
          const option = document.createElement('div');
          option.className = 'avatar-option';
          option.textContent = avatar.emoji;
          option.title = avatar.name;
          option.addEventListener('click', () => selectAvatar(avatar, index));
          avatarOptions.appendChild(option);
        });
      }
      
      // Select avatar
      function selectAvatar(avatar, index) {
        // Remove previous selection
        document.querySelectorAll('.avatar-option').forEach(opt => opt.classList.remove('selected'));
        // Add selection to clicked option
        const avatarOptions = document.querySelectorAll('.avatar-option');
        if (avatarOptions[index]) {
          avatarOptions[index].classList.add('selected');
        }
        selectedAvatar = avatar;
        currentAvatarPreview.textContent = avatar.emoji;
      }
      
      // Load user profile data
      function loadProfileData() {
        if (!currentUser) return;
        
        // Load username
        usernameInput.value = currentUser.displayName || currentUser.name;
        
        // Load avatar
        if (currentUser.avatar) {
          const avatarIndex = avatarOptionsList.findIndex(a => a.emoji === currentUser.avatar);
          if (avatarIndex !== -1) {
            selectAvatar(avatarOptionsList[avatarIndex], avatarIndex);
          }
        } else {
          currentAvatarPreview.textContent = currentUser.name.charAt(0).toUpperCase();
        }
        
      }
      
      
      // Show notification
      function showNotification(message, type = 'info') {
        const notification = document.createElement('div');
        notification.style.cssText = `
          position: fixed;
          top: 20px;
          right: 20px;
          padding: 16px 24px;
          border-radius: 8px;
          color: white;
          font-weight: 600;
          z-index: 10000;
          animation: slideIn 0.3s ease;
          background: ${type === 'success' ? '#10b981' : type === 'error' ? '#ef4444' : '#3b82f6'};
        `;
        notification.textContent = message;
        document.body.appendChild(notification);
        
        setTimeout(() => {
          notification.style.animation = 'slideOut 0.3s ease';
          setTimeout(() => notification.remove(), 300);
        }, 3000);
      }
      
      // Save profile changes
      function saveProfileChanges() {
        if (!currentUser) return;
        
        const newDisplayName = usernameInput.value.trim();
        const newAvatar = selectedAvatar ? selectedAvatar.emoji : null;
        
        // Update user data
        currentUser.displayName = newDisplayName;
        if (newAvatar) {
          currentUser.avatar = newAvatar;
        }
        
        // Save to localStorage
        localStorage.setItem('currentUser', JSON.stringify(currentUser));
        
        // Update all users array
        const users = JSON.parse(localStorage.getItem('users') || '[]');
        const userIndex = users.findIndex(u => u.id === currentUser.id);
        const isNewUser = userIndex === -1;
        
        if (userIndex !== -1) {
          users[userIndex] = currentUser;
        } else {
          users.push(currentUser);
        }
        localStorage.setItem('users', JSON.stringify(users));
        
        // Send welcome email for new users
        if (isNewUser) {
          sendWelcomeEmail(currentUser);
        }
        
        // Update header display
        showProfile(currentUser);
        
        // Close modal
        profileModal.classList.remove('open');
        
        showNotification('Profile updated successfully!', 'success');
      }
      
      // Toggle profile dropdown
      profileBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        profileDropdown.classList.toggle('open');
      });
      
      // Close dropdown when clicking outside
      document.addEventListener('click', (e) => {
        if (!profileContainer.contains(e.target)) {
          profileDropdown.classList.remove('open');
        }
      });
      
      // Profile settings modal
      profileSettingsBtn.addEventListener('click', () => {
        profileDropdown.classList.remove('open');
        generateAvatarOptions();
        loadProfileData();
        profileModal.classList.add('open');
      });
      
      // Profile modal controls
      profileModalClose.addEventListener('click', () => {
        profileModal.classList.remove('open');
      });
      
      profileCancel.addEventListener('click', () => {
        profileModal.classList.remove('open');
      });
      
      profileSave.addEventListener('click', saveProfileChanges);
      
      // Close profile modal when clicking outside
      profileModal.addEventListener('click', (e) => {
        if (e.target === profileModal) {
          profileModal.classList.remove('open');
        }
      });
      
      // Username save
      usernameSave.addEventListener('click', () => {
        const newName = usernameInput.value.trim();
        if (newName && newName !== currentUser.displayName) {
          currentUser.displayName = newName;
          localStorage.setItem('currentUser', JSON.stringify(currentUser));
          showProfile(currentUser);
          showNotification('Username updated!', 'success');
        }
      });
      
      
      // Logout functionality
      logoutBtn.addEventListener('click', () => {
        localStorage.removeItem('currentUser');
        hideProfile();
        profileDropdown.classList.remove('open');
        // If on get-started page, reload to show auth forms
        if (window.location.pathname.includes('get-started')) {
          location.reload();
        }
      });
      
        // Initialize profile on page load
        checkAuthStatus();
        
        // Enhanced homepage interactions
        initHomepageEffects();
        
        function initHomepageEffects() {
            // Parallax effect for floating cards
            const floatingCards = document.querySelectorAll('.floating-card');
            window.addEventListener('mousemove', (e) => {
                const mouseX = e.clientX / window.innerWidth;
                const mouseY = e.clientY / window.innerHeight;
                
                floatingCards.forEach((card, index) => {
                    const speed = (index + 1) * 0.5;
                    const x = (mouseX - 0.5) * speed * 20;
                    const y = (mouseY - 0.5) * speed * 20;
                    card.style.transform = `translate(${x}px, ${y}px) rotate(${x * 0.1}deg)`;
                });
            });
            
            // Interactive stats counter
            const statNumbers = document.querySelectorAll('.stat-number');
            const observerOptions = {
                threshold: 0.5,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        animateCounter(entry.target);
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);
            
            statNumbers.forEach(stat => observer.observe(stat));
            
            // Feature card hover effects
            const featureCards = document.querySelectorAll('.feature-card');
            featureCards.forEach(card => {
                card.addEventListener('mouseenter', () => {
                    card.style.transform = 'translateY(-15px) scale(1.02)';
                    card.style.boxShadow = '0 25px 50px rgba(0, 191, 255, 0.15)';
                });
                
                card.addEventListener('mouseleave', () => {
                    card.style.transform = 'translateY(0) scale(1)';
                    card.style.boxShadow = '0 8px 32px rgba(0, 0, 0, 0.1)';
                });
            });
            
            // Floating elements mouse interaction
            const floatingElements = document.querySelectorAll('.floating-element');
            floatingElements.forEach(element => {
                element.addEventListener('mouseenter', () => {
                    element.style.transform = 'scale(1.5) rotate(360deg)';
                    element.style.transition = 'all 0.5s ease';
                });
                
                element.addEventListener('mouseleave', () => {
                    element.style.transform = 'scale(1) rotate(0deg)';
                });
            });
            
            // Smooth scroll for CTA buttons
            const ctaButtons = document.querySelectorAll('.cta-group a, .about-cta a, .cta-buttons a');
            ctaButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    if (button.getAttribute('href').startsWith('#')) {
                        e.preventDefault();
                        const target = document.querySelector(button.getAttribute('href'));
                        if (target) {
                            target.scrollIntoView({ behavior: 'smooth' });
                        }
                    }
                });
            });
        }
        
        function animateCounter(element) {
            const target = parseInt(element.textContent);
            const duration = 2000;
            const increment = target / (duration / 16);
            let current = 0;
            
            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }
                element.textContent = Math.floor(current);
            }, 16);
        }
      
      
      // Dashboard functionality
      function trackUserActivity(activity) {
        const currentUser = JSON.parse(localStorage.getItem('currentUser'));
        if (!currentUser) return;
        
        const activities = JSON.parse(localStorage.getItem('userActivities') || '[]');
        const activityData = {
          icon: getActivityIcon(activity),
          text: getActivityText(activity),
          time: new Date().toLocaleTimeString(),
          timestamp: new Date().toISOString()
        };
        
        activities.unshift(activityData);
        if (activities.length > 20) activities.pop(); // Keep only last 20 activities
        
        localStorage.setItem('userActivities', JSON.stringify(activities));
      }
      
      function getActivityIcon(activity) {
        const icons = {
          'visited_home': '🏠',
          'played_game': '🎮',
          'ai_chat': '🤖',
          'sent_feedback': '📧',
          'visited_dashboard': '📊',
          'changed_settings': '⚙️'
        };
        return icons[activity] || '📝';
      }
      
      function getActivityText(activity) {
        const texts = {
          'visited_home': 'Visited home page',
          'played_game': 'Played Tic Tac Toe',
          'ai_chat': 'Chatted with AI assistant',
          'sent_feedback': 'Sent feedback message',
          'visited_dashboard': 'Visited dashboard',
          'changed_settings': 'Updated settings'
        };
        return texts[activity] || 'Performed an action';
      }
      
      // Track activity when page loads
      if (JSON.parse(localStorage.getItem('currentUser'))) {
        trackUserActivity('visited_home');
      }
      
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script>
      // Initialize EmailJS
      (function() {
        emailjs.init("YOUR_PUBLIC_KEY"); // Replace with your EmailJS public key
      })();
      
      // Send welcome email function
      function sendWelcomeEmail(userData) {
        const templateParams = {
          to_email: 'mccodonn@gmail.com', // Your email address
          user_name: userData.displayName || userData.name || userData.username,
          user_email: userData.email,
          signup_date: new Date().toLocaleDateString(),
          signup_time: new Date().toLocaleTimeString(),
          from_name: 'MCCSITE System'
        };

        emailjs.send('YOUR_SERVICE_ID', 'YOUR_TEMPLATE_ID', templateParams)
          .then(function(response) {
            console.log('Welcome email sent successfully!', response.status, response.text);
          }, function(error) {
            console.log('Failed to send welcome email:', error);
          });
      }
    </script>
  </body>
</html>
