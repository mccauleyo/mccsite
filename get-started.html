<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Get Started | MCCSITE</title>
    <meta name="description" content="Get started with MCCSITE">
    <link rel="stylesheet" href="styles.css">
    <style>
      /* Notification animations */
      @keyframes slideIn {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }
      
      @keyframes slideOut {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }
    </style>
  </head>
  <body>
    <header class="site-header">
      <div class="container header-content">
        <div class="brand">
          <div class="logo" aria-hidden="true"></div>
          <span class="brand-name">MCCSITE</span>
        </div>
        <nav class="nav">
          <a href="index.html">Home</a>
          <a href="about.html">About</a>
          <a class="btn btn-small" href="get-started.html">Get Started</a>
          <a href="game.html">Games</a>
          <a href="ai-chat.html" class="ai-nav-link">ü§ñ AI Assistant</a>
          <a class="btn btn-outline" href="get-started.html" id="signin-btn" style="display: none;">Sign In</a>
          <div class="profile-container" id="profile-container" style="display: none;">
            <button class="profile-btn" id="profile-btn">
              <div class="profile-avatar" id="profile-avatar"></div>
              <span class="profile-name" id="profile-name"></span>
            </button>
            <div class="profile-dropdown" id="profile-dropdown">
              <a href="get-started.html" class="profile-dropdown-item">Dashboard</a>
              <a href="game.html" class="profile-dropdown-item">Play Games</a>
              <button class="profile-dropdown-item" id="profile-settings-btn">Profile Settings</button>
              <div class="profile-dropdown-divider"></div>
              <button class="profile-dropdown-item" id="logout-btn">Sign Out</button>
            </div>
          </div>
          <button class="settings-btn" id="settings-btn" aria-label="Settings">‚öôÔ∏è</button>
          <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
            <span class="theme-icon">üåô</span>
          </button>
        </nav>
      </div>
    </header>
    <main>
      <section class="hero">
        <div class="container hero-content">
          <h1>Get Started</h1>
          <p>Create an account or sign in to access your dashboard.</p>
        </div>
      </section>
      
      <section class="auth-section">
        <div class="container">
          <div class="auth-tabs">
            <button class="auth-tab active" id="signin-tab">Sign In</button>
            <button class="auth-tab" id="signup-tab">Sign Up</button>
          </div>
          
          <div class="auth-forms">
            <!-- Sign In Form -->
            <form class="auth-form active" id="signin-form">
              <h2>Welcome Back</h2>
              <div class="form-group">
                <label for="signin-email">Email</label>
                <input type="email" id="signin-email" name="email" required>
              </div>
              <div class="form-group">
                <label for="signin-password">Password</label>
                <input type="password" id="signin-password" name="password" required>
              </div>
              <div class="form-options">
                <label class="checkbox-label">
                  <input type="checkbox" name="remember">
                  <span class="checkmark"></span>
                  Remember me
                </label>
                <a href="#" class="forgot-link">Forgot password?</a>
              </div>
              <button type="submit" class="btn btn-game">Sign In</button>
            </form>
            
            <!-- Sign Up Form -->
            <form class="auth-form" id="signup-form">
              <h2>Create Account</h2>
              <div class="form-group">
                <label for="signup-name">Full Name</label>
                <input type="text" id="signup-name" name="name" required>
              </div>
              <div class="form-group">
                <label for="signup-email">Email</label>
                <input type="email" id="signup-email" name="email" required>
              </div>
              <div class="form-group">
                <label for="signup-password">Password</label>
                <input type="password" id="signup-password" name="password" required>
              </div>
              <div class="form-group">
                <label for="signup-confirm">Confirm Password</label>
                <input type="password" id="signup-confirm" name="confirmPassword" required>
              </div>
              <div class="form-options">
                <label class="checkbox-label">
                  <input type="checkbox" name="terms" required>
                  <span class="checkmark"></span>
                  I agree to the <a href="#" class="terms-link">Terms of Service</a>
                </label>
              </div>
              <button type="submit" class="btn btn-game">Create Account</button>
            </form>
          </div>
        </div>
      </section>
    </main>
    
    <!-- Settings Modal -->
    <div class="settings-modal" id="settings-modal">
      <div class="settings-content">
        <div class="settings-header">
          <h2 class="settings-title">Settings</h2>
          <button class="settings-close" id="settings-close">&times;</button>
        </div>
        
        <div class="settings-group">
          <label class="settings-label">Appearance</label>
          <div class="settings-option">
            <span>Dark Mode</span>
            <div class="settings-toggle" id="dark-mode-toggle"></div>
          </div>
        </div>
        
        <div class="settings-group">
          <label class="settings-label">Game Settings</label>
          <div class="settings-option">
            <span>Sound Effects</span>
            <div class="settings-toggle active" id="sound-toggle"></div>
          </div>
          <div class="settings-option">
            <span>Animations</span>
            <div class="settings-toggle active" id="animations-toggle"></div>
          </div>
        </div>
        
        <div class="settings-group">
          <label class="settings-label">Accessibility</label>
          <div class="settings-option">
            <span>High Contrast</span>
            <div class="settings-toggle" id="contrast-toggle"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Profile Settings Modal -->
    <div class="profile-modal" id="profile-modal">
      <div class="profile-modal-content">
        <div class="profile-modal-header">
          <h2 class="profile-modal-title">Profile Settings</h2>
          <button class="profile-modal-close" id="profile-modal-close">&times;</button>
        </div>
        
        <!-- Avatar Selection -->
        <div class="avatar-section">
          <h3>Choose Avatar</h3>
          <div class="current-avatar">
            <div class="current-avatar-preview" id="current-avatar-preview">A</div>
            <div>
              <p style="margin: 0; font-weight: 600; color: var(--text);">Current Avatar</p>
              <p style="margin: 4px 0 0; color: var(--muted); font-size: 14px;">Click an option below to change</p>
            </div>
          </div>
          <div class="avatar-options" id="avatar-options">
            <!-- Avatar options will be generated by JavaScript -->
          </div>
        </div>

        <!-- Username Editor -->
        <div class="username-section">
          <h3>Username</h3>
          <div class="username-editor">
            <input type="text" class="username-input" id="username-input" placeholder="Enter username" maxlength="20">
            <button class="username-save" id="username-save">Save</button>
          </div>
        </div>

        <!-- Profile Actions -->
        <div class="profile-actions">
          <button class="profile-cancel" id="profile-cancel">Cancel</button>
          <button class="profile-save" id="profile-save">Save Changes</button>
        </div>
      </div>
    </div>
    
    <footer class="site-footer">
      <div class="container footer-content">
        <small> <span id="year"></span> MCCSITE. All rights reserved.</small>
        <a href="#top" class="back-to-top" aria-label="Back to top"></a>
      </div>
    </footer>
    
    <!-- EmailJS CDN -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    
    <script>
      document.getElementById('year').textContent = new Date().getFullYear();
      const themeToggle = document.getElementById('theme-toggle');
      const themeIcon = themeToggle.querySelector('.theme-icon');
      const currentTheme = localStorage.getItem('theme') || 'dark';
      document.documentElement.setAttribute('data-theme', currentTheme);
      updateThemeIcon(currentTheme);
      themeToggle.addEventListener('click', () => {
        const current = document.documentElement.getAttribute('data-theme');
        const next = current === 'dark' ? 'light' : 'dark';
        document.documentElement.setAttribute('data-theme', next);
        localStorage.setItem('theme', next);
        updateThemeIcon(next);
      });
      function updateThemeIcon(theme) { themeIcon.textContent = theme === 'dark' ? '‚òÄÔ∏è' : 'üåô'; }
      
      // Settings functionality
      const settingsBtn = document.getElementById('settings-btn');
      const settingsModal = document.getElementById('settings-modal');
      const settingsClose = document.getElementById('settings-close');
      const darkModeToggle = document.getElementById('dark-mode-toggle');
      const soundToggle = document.getElementById('sound-toggle');
      const animationsToggle = document.getElementById('animations-toggle');
      const contrastToggle = document.getElementById('contrast-toggle');
      
      // Load saved settings
      function loadSettings() {
        const settings = JSON.parse(localStorage.getItem('settings') || '{}');
        
        // Dark mode toggle
        const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
        darkModeToggle.classList.toggle('active', isDark);
        
        // Sound toggle
        soundToggle.classList.toggle('active', settings.sound !== false);
        
        // Animations toggle
        animationsToggle.classList.toggle('active', settings.animations !== false);
        
        // Contrast toggle
        contrastToggle.classList.toggle('active', settings.contrast === true);
        if (settings.contrast) {
          document.body.classList.add('high-contrast');
        }
      }
      
      // Save settings
      function saveSettings() {
        const settings = {
          sound: soundToggle.classList.contains('active'),
          animations: animationsToggle.classList.contains('active'),
          contrast: contrastToggle.classList.contains('active')
        };
        localStorage.setItem('settings', JSON.stringify(settings));
      }
      
      // Toggle functions
      function toggleSetting(toggle, callback) {
        toggle.addEventListener('click', () => {
          toggle.classList.toggle('active');
          callback();
          saveSettings();
        });
      }
      
      // Settings toggles
      toggleSetting(darkModeToggle, () => {
        const isDark = darkModeToggle.classList.contains('active');
        document.documentElement.setAttribute('data-theme', isDark ? 'dark' : 'light');
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
        updateThemeIcon(isDark ? 'dark' : 'light');
      });
      
      toggleSetting(soundToggle, () => {
        // Sound setting will be used by game page
      });
      
      toggleSetting(animationsToggle, () => {
        // Animation setting will be used by game page
      });
      
      toggleSetting(contrastToggle, () => {
        document.body.classList.toggle('high-contrast', contrastToggle.classList.contains('active'));
      });
      
      // Modal controls
      settingsBtn.addEventListener('click', () => {
        settingsModal.classList.add('open');
      });
      
      settingsClose.addEventListener('click', () => {
        settingsModal.classList.remove('open');
      });
      
      settingsModal.addEventListener('click', (e) => {
        if (e.target === settingsModal) {
          settingsModal.classList.remove('open');
        }
      });
      
      // Load settings on page load
      loadSettings();
      
      // Profile functionality
      const profileContainer = document.getElementById('profile-container');
      const profileBtn = document.getElementById('profile-btn');
      const profileDropdown = document.getElementById('profile-dropdown');
      const profileAvatar = document.getElementById('profile-avatar');
      const profileName = document.getElementById('profile-name');
      const logoutBtn = document.getElementById('logout-btn');
      const profileSettingsBtn = document.getElementById('profile-settings-btn');
      const signinBtn = document.getElementById('signin-btn');
      
      // Check if user is logged in
      function checkAuthStatus() {
        const currentUser = JSON.parse(localStorage.getItem('currentUser') || 'null');
        if (currentUser) {
          showProfile(currentUser);
        } else {
          hideProfile();
        }
      }
      
      // Show profile in header
      function showProfile(user) {
        profileContainer.style.display = 'flex';
        signinBtn.style.display = 'none';
        profileName.textContent = user.displayName || user.name;
        profileAvatar.textContent = user.avatar || user.name.charAt(0).toUpperCase();
      }
      
      // Hide profile from header
      function hideProfile() {
        profileContainer.style.display = 'none';
        signinBtn.style.display = 'inline-block';
      }
      
      // Toggle profile dropdown
      profileBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        profileDropdown.classList.toggle('open');
      });
      
      // Close dropdown when clicking outside
      document.addEventListener('click', (e) => {
        if (!profileContainer.contains(e.target)) {
          profileDropdown.classList.remove('open');
        }
      });
      
      // Logout functionality
      logoutBtn.addEventListener('click', () => {
        localStorage.removeItem('currentUser');
        hideProfile();
        profileDropdown.classList.remove('open');
        // If on get-started page, reload to show auth forms
        if (window.location.pathname.includes('get-started')) {
          location.reload();
        }
      });
      
      // Profile modal elements
      const profileModal = document.getElementById('profile-modal');
      const profileModalClose = document.getElementById('profile-modal-close');
      const profileCancel = document.getElementById('profile-cancel');
      const profileSave = document.getElementById('profile-save');
      const currentAvatarPreview = document.getElementById('current-avatar-preview');
      const avatarOptions = document.getElementById('avatar-options');
      const usernameInput = document.getElementById('username-input');
      const usernameSave = document.getElementById('username-save');
      
      // Avatar options
      const avatarOptionsList = [
        { emoji: 'üòÄ', name: 'Happy' },
        { emoji: 'üòé', name: 'Cool' },
        { emoji: 'ü§ì', name: 'Nerd' },
        { emoji: 'üòä', name: 'Blush' },
        { emoji: 'ü•≥', name: 'Party' },
        { emoji: 'ü§ñ', name: 'Robot' },
        { emoji: 'üë®', name: 'Man' },
        { emoji: 'üë©', name: 'Woman' },
        { emoji: 'üßë', name: 'Person' },
        { emoji: 'üë®‚Äçüíª', name: 'Developer' },
        { emoji: 'üë©‚Äçüíª', name: 'Developer' },
        { emoji: 'üéÆ', name: 'Gamer' },
        { emoji: 'üé®', name: 'Artist' },
        { emoji: 'üéµ', name: 'Musician' },
        { emoji: 'üèÉ', name: 'Runner' },
        { emoji: 'üöÄ', name: 'Rocket' },
        { emoji: '‚≠ê', name: 'Star' },
        { emoji: 'üî•', name: 'Fire' },
        { emoji: 'üíé', name: 'Diamond' },
        { emoji: 'üåü', name: 'Star' },
        { emoji: 'üéØ', name: 'Target' },
        { emoji: 'üé™', name: 'Circus' },
        { emoji: 'üé≠', name: 'Theater' },
        { emoji: 'üé®', name: 'Palette' },
        { emoji: 'üé≤', name: 'Dice' },
        { emoji: 'üé∏', name: 'Guitar' },
        { emoji: 'üé∫', name: 'Trumpet' },
        { emoji: 'üéª', name: 'Violin' },
        { emoji: 'üéπ', name: 'Piano' },
        { emoji: 'üé§', name: 'Microphone' }
      ];
      
      let selectedAvatar = null;
      let currentUser = null;
      
      // Generate avatar options
      function generateAvatarOptions() {
        avatarOptions.innerHTML = '';
        avatarOptionsList.forEach((avatar, index) => {
          const option = document.createElement('div');
          option.className = 'avatar-option';
          option.textContent = avatar.emoji;
          option.title = avatar.name;
          option.addEventListener('click', () => selectAvatar(avatar, index));
          avatarOptions.appendChild(option);
        });
      }
      
      // Select avatar
      function selectAvatar(avatar, index) {
        // Remove previous selection
        document.querySelectorAll('.avatar-option').forEach(opt => opt.classList.remove('selected'));
        // Add selection to clicked option
        const avatarOptions = document.querySelectorAll('.avatar-option');
        if (avatarOptions[index]) {
          avatarOptions[index].classList.add('selected');
        }
        selectedAvatar = avatar;
        currentAvatarPreview.textContent = avatar.emoji;
      }
      
      // Load user profile data
      function loadProfileData() {
        if (!currentUser) return;
        
        // Load username
        usernameInput.value = currentUser.displayName || currentUser.name;
        
        // Load avatar
        if (currentUser.avatar) {
          const avatarIndex = avatarOptionsList.findIndex(a => a.emoji === currentUser.avatar);
          if (avatarIndex !== -1) {
            selectAvatar(avatarOptionsList[avatarIndex], avatarIndex);
          }
        } else {
          currentAvatarPreview.textContent = currentUser.name.charAt(0).toUpperCase();
        }
      }
      
      // Save profile changes
      function saveProfileChanges() {
        if (!currentUser) return;
        
        const newDisplayName = usernameInput.value.trim();
        const newAvatar = selectedAvatar ? selectedAvatar.emoji : null;
        
        // Update user data
        currentUser.displayName = newDisplayName;
        if (newAvatar) {
          currentUser.avatar = newAvatar;
        }
        
        // Save to localStorage
        localStorage.setItem('currentUser', JSON.stringify(currentUser));
        
        // Update all users array
        const users = JSON.parse(localStorage.getItem('users') || '[]');
        const userIndex = users.findIndex(u => u.id === currentUser.id);
        if (userIndex !== -1) {
          users[userIndex] = currentUser;
          localStorage.setItem('users', JSON.stringify(users));
        }
        
        // Update header display
        showProfile(currentUser);
        
        // Close modal
        profileModal.classList.remove('open');
        
        // Show success notification
        const notification = document.createElement('div');
        notification.style.cssText = `
          position: fixed;
          top: 20px;
          right: 20px;
          padding: 16px 24px;
          border-radius: 8px;
          color: white;
          font-weight: 600;
          z-index: 10000;
          background: #10b981;
          animation: slideIn 0.3s ease;
        `;
        notification.textContent = 'Profile updated successfully!';
        document.body.appendChild(notification);
        
        setTimeout(() => {
          notification.style.animation = 'slideOut 0.3s ease';
          setTimeout(() => notification.remove(), 300);
        }, 3000);
      }
      
      // Profile settings modal
      profileSettingsBtn.addEventListener('click', () => {
        profileDropdown.classList.remove('open');
        loadProfileData();
        generateAvatarOptions();
        profileModal.classList.add('open');
      });
      
      // Profile modal controls
      profileModalClose.addEventListener('click', () => {
        profileModal.classList.remove('open');
      });
      
      profileCancel.addEventListener('click', () => {
        profileModal.classList.remove('open');
      });
      
      profileSave.addEventListener('click', saveProfileChanges);
      
      // Close profile modal when clicking outside
      profileModal.addEventListener('click', (e) => {
        if (e.target === profileModal) {
          profileModal.classList.remove('open');
        }
      });
      
      // Username save
      usernameSave.addEventListener('click', () => {
        const newName = usernameInput.value.trim();
        if (newName && newName !== currentUser.displayName) {
          currentUser.displayName = newName;
          localStorage.setItem('currentUser', JSON.stringify(currentUser));
          showProfile(currentUser);
          
          // Show success notification
          const notification = document.createElement('div');
          notification.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 16px 24px;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            z-index: 10000;
            background: #10b981;
            animation: slideIn 0.3s ease;
          `;
          notification.textContent = 'Username updated!';
          document.body.appendChild(notification);
          
          setTimeout(() => {
            notification.style.animation = 'slideOut 0.3s ease';
            setTimeout(() => notification.remove(), 300);
          }, 3000);
        }
      });
      
      // Initialize profile on page load
      checkAuthStatus();
      
      // Authentication functionality
      const signinTab = document.getElementById('signin-tab');
      const signupTab = document.getElementById('signup-tab');
      const signinForm = document.getElementById('signin-form');
      const signupForm = document.getElementById('signup-form');
      
      // Tab switching
      signinTab.addEventListener('click', () => {
        signinTab.classList.add('active');
        signupTab.classList.remove('active');
        signinForm.classList.add('active');
        signupForm.classList.remove('active');
      });
      
      signupTab.addEventListener('click', () => {
        signupTab.classList.add('active');
        signinTab.classList.remove('active');
        signupForm.classList.add('active');
        signinForm.classList.remove('active');
      });
      
      // Real Authentication System
      class AuthManager {
        constructor() {
          this.users = JSON.parse(localStorage.getItem('users') || '[]');
          this.currentUser = JSON.parse(localStorage.getItem('currentUser') || 'null');
          this.init();
        }
        
        init() {
          if (this.currentUser) {
            this.showDashboard();
          }
        }
        
        // User registration
        register(name, email, password) {
          // Check if user already exists
          if (this.users.find(user => user.email === email)) {
            throw new Error('User already exists with this email');
          }
          
          // Create new user
          const newUser = {
            id: Date.now().toString(),
            name,
            email,
            password: this.hashPassword(password),
            createdAt: new Date().toISOString()
          };
          
          this.users.push(newUser);
          localStorage.setItem('users', JSON.stringify(this.users));
          return newUser;
        }
        
        // User login
        login(email, password) {
          const user = this.users.find(u => u.email === email);
          if (!user || !this.verifyPassword(password, user.password)) {
            throw new Error('Invalid email or password');
          }
          
          this.currentUser = user;
          localStorage.setItem('currentUser', JSON.stringify(user));
          return user;
        }
        
        // User logout
        logout() {
          this.currentUser = null;
          localStorage.removeItem('currentUser');
          this.showAuthForms();
        }
        
        // Password hashing (simple for demo - use bcrypt in production)
        hashPassword(password) {
          return btoa(password + 'salt'); // Simple encoding
        }
        
        verifyPassword(password, hash) {
          return this.hashPassword(password) === hash;
        }
        
        // Show dashboard
        showDashboard() {
          document.querySelector('.auth-section').innerHTML = `
            <div class="container">
              <div class="dashboard">
                <h2>Welcome back, ${this.currentUser.name}!</h2>
                <div class="user-info">
                  <p><strong>Email:</strong> ${this.currentUser.email}</p>
                  <p><strong>Member since:</strong> ${new Date(this.currentUser.createdAt).toLocaleDateString()}</p>
                </div>
                <div class="dashboard-actions">
                  <button class="btn btn-game" onclick="location.href='game.html'">Play Game</button>
                  <button class="btn btn-outline" onclick="authManager.logout()">Sign Out</button>
                </div>
              </div>
            </div>
          `;
        }
        
        // Show auth forms
        showAuthForms() {
          location.reload(); // Simple reload to show forms
        }
        
        // Show error message
        showError(message) {
          const errorDiv = document.createElement('div');
          errorDiv.className = 'error-message';
          errorDiv.textContent = message;
          errorDiv.style.cssText = `
            background: #ef4444;
            color: white;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 16px;
            text-align: center;
          `;
          
          const form = document.querySelector('.auth-form.active');
          form.insertBefore(errorDiv, form.firstChild);
          
          setTimeout(() => errorDiv.remove(), 5000);
        }
      }
      
      // Initialize EmailJS
      emailjs.init("nPvHGp9gZL2jFhjsR");
      
      // Send welcome email function
      async function sendWelcomeEmail(user) {
        try {
          const templateParams = {
            to_email: user.email,
            to_name: user.displayName || user.name,
            site_name: 'MCCSITE'
          };
          
          const response = await emailjs.send(
            'service_jwb93vv',
            'template_toyg9d9',
            templateParams
          );
          
          if (response.status === 200) {
            console.log('Welcome email sent successfully to:', user.email);
            // Show success notification
            const notification = document.createElement('div');
            notification.style.cssText = `
              position: fixed;
              top: 20px;
              right: 20px;
              padding: 16px 24px;
              border-radius: 8px;
              color: white;
              font-weight: 600;
              z-index: 10000;
              background: #10b981;
              animation: slideIn 0.3s ease;
            `;
            notification.textContent = 'Welcome email sent! Check your inbox.';
            document.body.appendChild(notification);
            
            setTimeout(() => {
              notification.style.animation = 'slideOut 0.3s ease';
              setTimeout(() => notification.remove(), 300);
            }, 3000);
          }
        } catch (error) {
          console.error('Error sending welcome email:', error);
          // Don't show error to user, just log it
        }
      }
      
      // Initialize auth manager
      const authManager = new AuthManager();
      
      // Form validation and submission
      signinForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const email = document.getElementById('signin-email').value;
        const password = document.getElementById('signin-password').value;
        
        try {
          authManager.login(email, password);
          authManager.showDashboard();
        } catch (error) {
          authManager.showError(error.message);
        }
      });
      
      signupForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const name = document.getElementById('signup-name').value;
        const email = document.getElementById('signup-email').value;
        const password = document.getElementById('signup-password').value;
        const confirmPassword = document.getElementById('signup-confirm').value;
        const terms = document.querySelector('input[name="terms"]').checked;
        
        // Validation
        if (password !== confirmPassword) {
          authManager.showError('Passwords do not match!');
          return;
        }
        
        if (password.length < 6) {
          authManager.showError('Password must be at least 6 characters long');
          return;
        }
        
        if (!terms) {
          authManager.showError('Please agree to the Terms of Service');
          return;
        }
        
        try {
          const user = authManager.register(name, email, password);
          authManager.currentUser = user;
          localStorage.setItem('currentUser', JSON.stringify(user));
          authManager.showDashboard();
          
          // Send welcome email
          sendWelcomeEmail(user);
        } catch (error) {
          authManager.showError(error.message);
        }
      });
    </script>
  </body>
</html>


